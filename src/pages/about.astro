---
import ImageMod from "@/components/ImageMod.astro";
import Base from "@/layouts/Base.astro";
import PageHeader from "@/partials/PageHeader.astro";
import { markdownify } from "@/lib/utils/textConverter";

const title = "About Us";
const description = "Discover our journey, expertise, and commitment to innovation.";
const image = "/images/team-photo.jpg";

// Stats
const projectsCompleted = 120;
const clientsServed = 50;
const experienceYears = 5;
---

<Base title={title} description={description}>
  <PageHeader title={title} />

  <!-- About Section -->
  <section class="section-sm bg-body dark:bg-darkmode-body text-text-dark dark:text-darkmode-text-dark">
    <div class="container">
      <div class="row justify-center">
        <div class="text-center md:col-10 lg:col-7">
 
          <h2 class="h3 mb-6 text-primary dark:text-darkmode-primary">Who We Are</h2>
          <p class="text-lg text-text-light dark:text-darkmode-text-light">
            {markdownify("FluxFloats is a forward-thinking software house specializing in **Artificial Intelligence, Machine Learning, Web Development, UI/UX Design, and Automation**. We create intelligent, scalable, and user-centric solutions that drive innovation, streamline operations, and enhance digital experiences. Our mission is to empower businesses and individuals with cutting-edge technology that transforms ideas into reality.")}
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- Vision & Mission Section -->
  <section class="section bg-light dark:bg-darkmode-light text-text-dark dark:text-darkmode-text-dark">
    <div class="container text-center">
      <h2 class="h3 mb-6 text-primary dark:text-darkmode-primary">Our Vision & Mission</h2>
      <div class="row">
        <div class="md:col-6">
          <div class="p-6 shadow-lg rounded-lg bg-white dark:bg-darkmode-body transition-transform hover:scale-105">
            <h3 class="h5">🌍 Our Vision</h3>
            <p class="text-text-light dark:text-darkmode-text-light">
              To redefine the future of technology by pioneering AI-driven,scalable, and intuitive digital solutions.  
              We envision a world where intelligent automation, cutting-edge software, and seamless user experiences  
              bridge the gap between innovation and real-world impact, driving progress across industries.
            </p>
          </div>
        </div>
        <div class="md:col-6">
          <div class="p-6 shadow-lg rounded-lg bg-white dark:bg-darkmode-body transition-transform hover:scale-105">
            <h3 class="h5">🚀 Our Mission</h3>
            <p class="text-text-light dark:text-darkmode-text-light">
              To empower businesses and individuals with intelligent, efficient, and future-proof software solutions  
              that streamline processes, enhance productivity, and unlock new opportunities.  
              At FluxFloats, we are committed to delivering cutting-edge technology, fostering innovation,  
              and shaping a digital-first world where businesses can thrive and evolve effortlessly.
            </p>
          </div>
        </div>
      </div>
    </div>
  </section>
  

  <!-- Animated Stats Section (Now Theme-Responsive) -->
<section class="section bg-gradient-to-r from-primary to-secondary dark:from-darkmode-secondary dark:to-darkmode-primary text-white text-center">
  <div class="container">
    <h2 class="h3 mb-6 theme-text">Our Impact in Numbers</h2>
    <div class="row">
      <div class="md:col-4">
        <h3 class="h2 counter theme-text" data-target="107">0</h3>
        <p class="text-lg">Projects Completed</p>
      </div>
      <div class="md:col-4">
        <h3 class="h2 counter theme-text" data-target="32">0</h3>
        <p class="text-lg">Clients Served</p>
      </div>
      <div class="md:col-4">
        <h3 class="h2 counter theme-text" data-target="8">0</h3>
        <p class="text-lg">Years of Experience</p>
      </div>
    </div>
  </div>
</section>

<!-- Counter Animation Script -->
<script>
  function animateCounters() {
    const counters = document.querySelectorAll(".counter");

    counters.forEach(counter => {
      const target = +counter.getAttribute("data-target");
      const duration = 1000;
      const steps = 60;
      let count = 0;
      const increment = target / steps;

      const updateCount = () => {
        count += increment;
        if (count < target) {
          counter.innerText = `${Math.floor(count)}+`;
          requestAnimationFrame(updateCount);
        } else {
          counter.innerText = `${target}+`;
        }
      };

      updateCount();
    });
  }

  document.addEventListener("DOMContentLoaded", animateCounters);
  document.addEventListener("visibilitychange", () => {
    if (document.visibilityState === "visible") {
      animateCounters();
    }
  });
</script>

<section class="section bg-body dark:bg-darkmode-body">
  <div class="container">
    <h2 class="h3 text-center mb-6 text-primary dark:text-darkmode-primary">Our Journey</h2>
    <div class="timeline">
      <div class="timeline-item">
        <span class="timeline-icon dark:theme-icon">🌱</span>
        <div class="timeline-content">
          <h3>2018 - The Beginning</h3>
          <p>We started as a small, ambitious team passionate about building intelligent software. Our first project, <strong>DataFusion</strong> 🌐, was a data aggregation tool that streamlined information from multiple sources.</p>
        </div>
      </div>
      <div class="timeline-item">
        <span class="timeline-icon dark:theme-icon">🌍</span>
        <div class="timeline-content">
          <h3>2019 - Breaking Boundaries</h3>
          <p>We developed <strong>InsightIQ</strong> 📊, an AI-driven analytics platform providing real-time insights for data-driven decisions.</p>
        </div>
      </div>
      <div class="timeline-item">
        <span class="timeline-icon dark:theme-icon">💡</span>
        <div class="timeline-content">
          <h3>2020 - AI Breakthrough</h3>
          <p>We made a significant impact with <strong>AutoFlow</strong> 🤖, an AI-powered workflow automation tool, increasing productivity by up to 40%.</p>
        </div>
      </div>
      <div class="timeline-item">
        <span class="timeline-icon dark:theme-icon">🔗</span>
        <div class="timeline-content">
          <h3>2021 - Industry Integration</h3>
          <p>Launched <strong>SmartNet</strong> 🌐, an IoT integration platform for smart infrastructure projects in healthcare and logistics.</p>
        </div>
      </div>
      <div class="timeline-item">
        <span class="timeline-icon dark:theme-icon">🔐</span>
        <div class="timeline-content">
          <h3>2022 - Blockchain Integration</h3>
          <p>Introduced <strong>CryptoGuard</strong> 💰, a secure asset management tool offering real-time tracking and fraud detection.</p>
        </div>
      </div>
      <div class="timeline-item">
        <span class="timeline-icon dark:theme-icon">🏆</span>
        <div class="timeline-content">
          <h3>2023 - Scaling Up</h3>
          <p>Launched <strong>Flux360</strong> 🚀, expanding globally and serving clients in healthcare, fintech, and supply chain management.</p>
        </div>
      </div>
      <div class="timeline-item">
        <span class="timeline-icon dark:theme-icon">🌐</span>
        <div class="timeline-content">
          <h3>2024 - Strategic Partnerships</h3>
          <p>Forged key partnerships with leading tech companies to enhance our AI and blockchain capabilities.</p>
        </div>
      </div>
      <div class="timeline-item">
        <span class="timeline-icon dark:theme-icon">🚀</span>
        <div class="timeline-content">
          <h3>2025 - Innovation Hub</h3>
          <p>Established the <strong>Flux Innovation Hub</strong>, focusing on developing next-gen solutions in AI, blockchain, and automation.</p>
        </div>
      </div>
    </div>
  </div>
</section>

  <!-- JavaScript for Animated Counter (Now Theme-Sensitive) -->
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const counters = document.querySelectorAll<HTMLElement>(".counter");

      function updateThemeColors() {
        let isDarkMode = document.documentElement.classList.contains("dark");
        document.querySelectorAll<HTMLElement>(".theme-text").forEach(el => {
          el.style.color = isDarkMode ? "var(--darkmode-text-light)" : "var(--primary)";
        });
        document.querySelectorAll<HTMLElement>(".theme-icon").forEach(el => {
          el.style.background = isDarkMode ? "var(--darkmode-primary)" : "var(--primary)";
        });
      }

      counters.forEach(counter => {
        let targetAttr = counter.getAttribute("data-target");
        let target = targetAttr ? +targetAttr : 0;

        let count = 0;
        let duration = 1500; // Animation duration in ms
        let startTime: number | null = null;

        function updateCounter(timestamp: number) {
          if (!startTime) startTime = timestamp;
          let progress = timestamp - startTime;
          let increment = Math.min(progress / duration, 1) * target;

          counter.innerText = String(Math.floor(increment));

          if (progress < duration) {
            requestAnimationFrame(updateCounter);
          } else {
            counter.innerText = String(target) + "+";
          }
        }

        requestAnimationFrame(updateCounter);
      });

      updateThemeColors();
      document.documentElement.addEventListener("classChange", updateThemeColors);
    });
  </script>

  <!-- Styles for Timeline (Now Theme-Responsive) -->
  <style>
    .timeline {
      position: relative;
      max-width: 800px;
      margin: auto;
    }
    .timeline-item {
      padding: 20px;
      position: relative;
      margin-bottom: 30px;
      background: var(--light);
      border-left: 4px solid var(--primary);
      transition: transform 0.3s ease, background 0.3s ease;
    }
    .dark .timeline-item {
      background: var(--darkmode-body);
      border-left: 4px solid var(--darkmode-primary);
    }
    .timeline-item:hover {
      transform: translateX(10px);
    }
    .timeline-icon {
      position: absolute;
      left: -25px;
      top: 50%;
      transform: translateY(-50%);
      background: var(--primary);
      color: white;
      border-radius: 50%;
      width: 40px;
      height: 40px;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 20px;
    }
    .dark .timeline-icon {
      background: var(--darkmode-primary);
    }
  </style>
</Base>
